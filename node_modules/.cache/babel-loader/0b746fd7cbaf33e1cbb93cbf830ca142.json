{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,createContext,useEffect}from\"react\";import axios from\"axios\";export var CoVidCaseContext=createContext();var API_PATH=\"https://coronavirus-monitor.p.rapidapi.com/coronavirus/worldstat.php\";var API_KEY={\"x-rapidapi-host\":\"coronavirus-monitor.p.rapidapi.com\",\"x-rapidapi-key\":\"9fed399570msh663b031bcdef2b4p1c0023jsnb006081f81ed\"};var CoVidCaseContextProvider=function CoVidCaseContextProvider(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),coVidCases=_useState2[0],setCoVidCases=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];function fetchCoVidCase(){return _fetchCoVidCase.apply(this,arguments);}function _fetchCoVidCase(){_fetchCoVidCase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return axios({method:\"get\",url:\"\".concat(API_PATH),headers:API_KEY});case 3:res=_context.sent;data=res.data;setCoVidCases(data);setIsLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchCoVidCase.apply(this,arguments);}useEffect(function(){fetchCoVidCase();},[]);return/*#__PURE__*/React.createElement(CoVidCaseContext.Provider,{value:{coVidCases:coVidCases,isLoading:isLoading}},props.children);};export default CoVidCaseContextProvider;","map":{"version":3,"sources":["/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/src/ContextAPI/CoVidCaseContext.js"],"names":["React","useState","createContext","useEffect","axios","CoVidCaseContext","API_PATH","API_KEY","CoVidCaseContextProvider","props","coVidCases","setCoVidCases","isLoading","setIsLoading","fetchCoVidCase","method","url","headers","res","data","children"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,aAAzB,CAAwCC,SAAxC,KAAwD,OAAxD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,gBAAgB,CAAGH,aAAa,EAAtC,CAEP,GAAMI,CAAAA,QAAQ,uEAAd,CACA,GAAMC,CAAAA,OAAO,CAAG,CACf,kBAAmB,oCADJ,CAEf,iBAAkB,oDAFH,CAAhB,CAKA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,KAAD,CAAW,eACPR,QAAQ,CAAC,EAAD,CADD,wCACpCS,UADoC,eACxBC,aADwB,8BAETV,QAAQ,CAAC,KAAD,CAFC,yCAEpCW,SAFoC,eAEzBC,YAFyB,uBAI5BC,CAAAA,cAJ4B,oJAI3C,gJACCD,YAAY,CAAC,IAAD,CAAZ,CADD,sBAEmBT,CAAAA,KAAK,CAAC,CACvBW,MAAM,CAAE,KADe,CAEvBC,GAAG,WAAKV,QAAL,CAFoB,CAGvBW,OAAO,CAAEV,OAHc,CAAD,CAFxB,QAEOW,GAFP,eAOOC,IAPP,CAOcD,GAAG,CAACC,IAPlB,CAQCR,aAAa,CAACQ,IAAD,CAAb,CACAN,YAAY,CAAC,KAAD,CAAZ,CATD,sDAJ2C,iDAiB3CV,SAAS,CAAC,UAAM,CACfW,cAAc,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACC,oBAAC,gBAAD,CAAkB,QAAlB,EAA2B,KAAK,CAAE,CAACJ,UAAU,CAAVA,UAAD,CAAaE,SAAS,CAATA,SAAb,CAAlC,EACEH,KAAK,CAACW,QADR,CADD,CAKA,CA1BD,CA4BA,cAAeZ,CAAAA,wBAAf","sourcesContent":["import React, {useState, createContext, useEffect} from \"react\";\nimport axios from \"axios\";\n\nexport const CoVidCaseContext = createContext();\n\nconst API_PATH = `https://coronavirus-monitor.p.rapidapi.com/coronavirus/worldstat.php`;\nconst API_KEY = {\n\t\"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n\t\"x-rapidapi-key\": \"9fed399570msh663b031bcdef2b4p1c0023jsnb006081f81ed\"\n};\n\nconst CoVidCaseContextProvider = (props) => {\n\tconst [coVidCases, setCoVidCases] = useState({});\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tasync function fetchCoVidCase() {\n\t\tsetIsLoading(true);\n\t\tconst res = await axios({\n\t\t\tmethod: \"get\",\n\t\t\turl: `${API_PATH}`,\n\t\t\theaders: API_KEY\n\t\t});\n\t\tconst data = res.data;\n\t\tsetCoVidCases(data);\n\t\tsetIsLoading(false);\n\t}\n\n\n\tuseEffect(() => {\n\t\tfetchCoVidCase();\n\t}, []);\n\n\treturn (\n\t\t<CoVidCaseContext.Provider value={{coVidCases, isLoading}}>\n\t\t\t{props.children}\n\t\t</CoVidCaseContext.Provider>\n\t);\n};\n\nexport default CoVidCaseContextProvider;\n"]},"metadata":{},"sourceType":"module"}