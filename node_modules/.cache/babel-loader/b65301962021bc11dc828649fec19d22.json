{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from\"react\";import axios from\"axios\";export var CoVidWorldDataContext=createContext();var columns=[{title:\"\",dataIndex:\"countryFlag\",// width: 80,\nrender:function render(countryFlag){return/*#__PURE__*/React.createElement(\"img\",{style:{height:20,width:40},src:countryFlag,alt:countryFlag});}},{title:\"Country Name\",dataIndex:\"countryName\"// width: 150,\n},{title:\"Total Cases\",dataIndex:\"totalCases\"// width: 150,\n},{title:\"Active Cases\",dataIndex:\"activeCases\"},{title:\"Total Deaths\",dataIndex:\"totalDeaths\"},{title:\"Recovered\",dataIndex:\"recovered\"},{title:\"Critical Cases\",dataIndex:\"criticalCases\"}];var CoVidWorldDataContextProvider=function CoVidWorldDataContextProvider(props){var _useState=useState([{countryInfo:{}}]),_useState2=_slicedToArray(_useState,2),worldData=_useState2[0],setWorldData=_useState2[1];function fetchCoVidWorldData(){return _fetchCoVidWorldData.apply(this,arguments);}function _fetchCoVidWorldData(){_fetchCoVidWorldData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://corona.lmao.ninja/countries?fbclid=IwAR3AEMVx3jWFDfm-mXxEWtvHZhd_4enAWLc5ynMB5fBFKvFYFWjcgODVVPY\");case 2:response=_context.sent;_context.next=5;return response.data;case 5:data=_context.sent;setWorldData(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchCoVidWorldData.apply(this,arguments);}useEffect(function(){fetchCoVidWorldData();},[]);var coVidFilterData=worldData.filter(function(resData){return resData.country!==\"World\";});var data=coVidFilterData.map(function(res){return{countryFlag:res.countryInfo.flag,countryName:res.country,totalCases:res.cases,activeCases:res.active,totalDeaths:res.deaths,recovered:res.recovered,criticalCases:res.critical};});return/*#__PURE__*/React.createElement(CoVidWorldDataContext.Provider,{value:{columns:columns,data:data,worldData:worldData}},props.children);};export default CoVidWorldDataContextProvider;","map":{"version":3,"sources":["/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/src/ContextAPI/CoVidWorldDataContext.js"],"names":["React","createContext","useState","useEffect","axios","CoVidWorldDataContext","columns","title","dataIndex","render","countryFlag","height","width","CoVidWorldDataContextProvider","props","countryInfo","worldData","setWorldData","fetchCoVidWorldData","get","response","data","coVidFilterData","filter","resData","country","map","res","flag","countryName","totalCases","cases","activeCases","active","totalDeaths","deaths","recovered","criticalCases","critical","children"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,qBAAqB,CAAGJ,aAAa,EAA3C,CAEP,GAAMK,CAAAA,OAAO,CAAG,CACd,CACEC,KAAK,CAAE,EADT,CAEEC,SAAS,CAAE,aAFb,CAGE;AACAC,MAAM,CAAE,gBAACC,WAAD,qBACN,2BACE,KAAK,CAAE,CAAEC,MAAM,CAAE,EAAV,CAAcC,KAAK,CAAE,EAArB,CADT,CAEE,GAAG,CAAEF,WAFP,CAGE,GAAG,CAAEA,WAHP,EADM,EAJV,CADc,CAad,CACEH,KAAK,CAAE,cADT,CAEEC,SAAS,CAAE,aACX;AAHF,CAbc,CAkBd,CACED,KAAK,CAAE,aADT,CAEEC,SAAS,CAAE,YACX;AAHF,CAlBc,CAuBd,CACED,KAAK,CAAE,cADT,CAEEC,SAAS,CAAE,aAFb,CAvBc,CA2Bd,CACED,KAAK,CAAE,cADT,CAEEC,SAAS,CAAE,aAFb,CA3Bc,CA+Bd,CACED,KAAK,CAAE,WADT,CAEEC,SAAS,CAAE,WAFb,CA/Bc,CAmCd,CACED,KAAK,CAAE,gBADT,CAEEC,SAAS,CAAE,eAFb,CAnCc,CAAhB,CAyCA,GAAMK,CAAAA,6BAA6B,CAAG,QAAhCA,CAAAA,6BAAgC,CAACC,KAAD,CAAW,eACbZ,QAAQ,CAAC,CAAC,CAAEa,WAAW,CAAE,EAAf,CAAD,CAAD,CADK,wCACxCC,SADwC,eAC7BC,YAD6B,uBAGhCC,CAAAA,mBAHgC,mKAG/C,2KACyBd,CAAAA,KAAK,CAACe,GAAN,CACrB,0GADqB,CADzB,QACQC,QADR,qCAIqBA,CAAAA,QAAQ,CAACC,IAJ9B,QAIQA,IAJR,eAKEJ,YAAY,CAACI,IAAD,CAAZ,CALF,sDAH+C,sDAW/ClB,SAAS,CAAC,UAAM,CACde,mBAAmB,GACpB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMI,CAAAA,eAAe,CAAGN,SAAS,CAACO,MAAV,CACtB,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACC,OAAR,GAAoB,OAAjC,EADsB,CAAxB,CAIA,GAAMJ,CAAAA,IAAI,CAAGC,eAAe,CAACI,GAAhB,CAAoB,SAACC,GAAD,CAAS,CACxC,MAAO,CACLjB,WAAW,CAAEiB,GAAG,CAACZ,WAAJ,CAAgBa,IADxB,CAELC,WAAW,CAAEF,GAAG,CAACF,OAFZ,CAGLK,UAAU,CAAEH,GAAG,CAACI,KAHX,CAILC,WAAW,CAAEL,GAAG,CAACM,MAJZ,CAKLC,WAAW,CAAEP,GAAG,CAACQ,MALZ,CAMLC,SAAS,CAAET,GAAG,CAACS,SANV,CAOLC,aAAa,CAAEV,GAAG,CAACW,QAPd,CAAP,CASD,CAVY,CAAb,CAYA,mBACE,oBAAC,qBAAD,CAAuB,QAAvB,EAAgC,KAAK,CAAE,CAAEhC,OAAO,CAAPA,OAAF,CAAWe,IAAI,CAAJA,IAAX,CAAiBL,SAAS,CAATA,SAAjB,CAAvC,EACGF,KAAK,CAACyB,QADT,CADF,CAKD,CApCD,CAsCA,cAAe1B,CAAAA,6BAAf","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport const CoVidWorldDataContext = createContext();\n\nconst columns = [\n  {\n    title: \"\",\n    dataIndex: \"countryFlag\",\n    // width: 80,\n    render: (countryFlag) => (\n      <img\n        style={{ height: 20, width: 40 }}\n        src={countryFlag}\n        alt={countryFlag}\n      />\n    ),\n  },\n  {\n    title: \"Country Name\",\n    dataIndex: \"countryName\",\n    // width: 150,\n  },\n  {\n    title: \"Total Cases\",\n    dataIndex: \"totalCases\",\n    // width: 150,\n  },\n  {\n    title: \"Active Cases\",\n    dataIndex: \"activeCases\",\n  },\n  {\n    title: \"Total Deaths\",\n    dataIndex: \"totalDeaths\",\n  },\n  {\n    title: \"Recovered\",\n    dataIndex: \"recovered\",\n  },\n  {\n    title: \"Critical Cases\",\n    dataIndex: \"criticalCases\",\n  },\n];\n\nconst CoVidWorldDataContextProvider = (props) => {\n  const [worldData, setWorldData] = useState([{ countryInfo: {} }]);\n\n  async function fetchCoVidWorldData() {\n    const response = await axios.get(\n      \"https://corona.lmao.ninja/countries?fbclid=IwAR3AEMVx3jWFDfm-mXxEWtvHZhd_4enAWLc5ynMB5fBFKvFYFWjcgODVVPY\"\n    );\n    const data = await response.data;\n    setWorldData(data);\n  }\n\n  useEffect(() => {\n    fetchCoVidWorldData();\n  }, []);\n\n  const coVidFilterData = worldData.filter(\n    (resData) => resData.country !== \"World\"\n  );\n\n  const data = coVidFilterData.map((res) => {\n    return {\n      countryFlag: res.countryInfo.flag,\n      countryName: res.country,\n      totalCases: res.cases,\n      activeCases: res.active,\n      totalDeaths: res.deaths,\n      recovered: res.recovered,\n      criticalCases: res.critical,\n    };\n  });\n\n  return (\n    <CoVidWorldDataContext.Provider value={{ columns, data, worldData }}>\n      {props.children}\n    </CoVidWorldDataContext.Provider>\n  );\n};\n\nexport default CoVidWorldDataContextProvider;\n"]},"metadata":{},"sourceType":"module"}