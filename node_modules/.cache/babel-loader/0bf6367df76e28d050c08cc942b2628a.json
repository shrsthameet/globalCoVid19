{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState}from\"react\";import axios from\"axios\";export var CoVidByCountryContext=createContext();var CoVidByCountryContextProvider=function CoVidByCountryContextProvider(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),countryStat=_useState2[0],setCountryStat=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];function fetchData(_x){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(country){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return axios.get(\"https://coronavirus-monitor.p.rapidapi.com/coronavirus/latest_stat_by_country.php?country=\".concat(country),{headers:{\"x-rapidapi-host\":\"coronavirus-monitor.p.rapidapi.com\",\"x-rapidapi-key\":\"9fed399570msh663b031bcdef2b4p1c0023jsnb006081f81ed\"}});case 3:result=_context.sent;setCountryStat(result.data.latest_stat_by_country);setIsLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}return/*#__PURE__*/React.createElement(CoVidByCountryContext.Provider,{value:{fetchData:fetchData,countryStat:countryStat,isLoading:isLoading}},props.children);};export default CoVidByCountryContextProvider;","map":{"version":3,"sources":["/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/src/ContextAPI/CovVidByCountryContext.js"],"names":["React","createContext","useState","axios","CoVidByCountryContext","CoVidByCountryContextProvider","props","countryStat","setCountryStat","isLoading","setIsLoading","fetchData","country","get","headers","result","data","latest_stat_by_country","children"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAeC,aAAf,CAA8BC,QAA9B,KAA6C,OAA7C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,qBAAqB,CAAGH,aAAa,EAA3C,CAEP,GAAMI,CAAAA,6BAA6B,CAAG,QAAhCA,CAAAA,6BAAgC,CAACC,KAAD,CAAW,eACVJ,QAAQ,CAAC,EAAD,CADE,wCACzCK,WADyC,eAC5BC,cAD4B,8BAEdN,QAAQ,CAAC,KAAD,CAFM,yCAEzCO,SAFyC,eAE9BC,YAF8B,uBAKjCC,CAAAA,SALiC,uIAKhD,iBAAyBC,OAAzB,6HACCF,YAAY,CAAC,IAAD,CAAZ,CADD,sBAEsBP,CAAAA,KAAK,CACxBU,GADmB,qGAC8ED,OAD9E,EACyF,CAC5GE,OAAO,CAAE,CACR,kBAAmB,oCADX,CAER,iBAAkB,oDAFV,CADmG,CADzF,CAFtB,QAEOC,MAFP,eASCP,cAAc,CAACO,MAAM,CAACC,IAAP,CAAYC,sBAAb,CAAd,CACAP,YAAY,CAAC,KAAD,CAAZ,CAVD,sDALgD,4CAkBhD,mBACC,oBAAC,qBAAD,CAAuB,QAAvB,EAAgC,KAAK,CAAE,CAACC,SAAS,CAATA,SAAD,CAAYJ,WAAW,CAAXA,WAAZ,CAAyBE,SAAS,CAATA,SAAzB,CAAvC,EACEH,KAAK,CAACY,QADR,CADD,CAKA,CAvBD,CAyBA,cAAeb,CAAAA,6BAAf","sourcesContent":["import React, {createContext, useState} from \"react\";\nimport axios from \"axios\";\n\nexport const CoVidByCountryContext = createContext();\n\nconst CoVidByCountryContextProvider = (props) => {\n\tconst [countryStat, setCountryStat] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\n\tasync function fetchData(country) {\n\t\tsetIsLoading(true);\n\t\tconst result = await axios\n\t\t\t.get(`https://coronavirus-monitor.p.rapidapi.com/coronavirus/latest_stat_by_country.php?country=${country}`, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n\t\t\t\t\t\"x-rapidapi-key\": \"9fed399570msh663b031bcdef2b4p1c0023jsnb006081f81ed\"\n\t\t\t\t}\n\t\t\t},);\n\t\tsetCountryStat(result.data.latest_stat_by_country);\n\t\tsetIsLoading(false);\n\t}\n\n\treturn (\n\t\t<CoVidByCountryContext.Provider value={{fetchData, countryStat, isLoading}}>\n\t\t\t{props.children}\n\t\t</CoVidByCountryContext.Provider>\n\t);\n};\n\nexport default CoVidByCountryContextProvider;\n"]},"metadata":{},"sourceType":"module"}