{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from\"react\";import axios from\"axios\";export var CoVidWorldDataContext=createContext();var columns=[{title:\"\",dataIndex:\"countryFlag\",// width: 80,\nrender:function render(countryFlag){return/*#__PURE__*/React.createElement(\"img\",{style:{height:20,width:40},src:countryFlag,alt:countryFlag});}},{title:\"Country Name\",dataIndex:\"countryName\"// width: 150,\n},{title:\"Total Cases\",dataIndex:\"totalCases\"// width: 150,\n},{title:\"Active Cases\",dataIndex:\"activeCases\"},{title:\"Total Deaths\",dataIndex:\"totalDeaths\"},{title:\"Recovered\",dataIndex:\"recovered\"},{title:\"Critical Cases\",dataIndex:\"criticalCases\"}];var CoVidWorldDataContextProvider=function CoVidWorldDataContextProvider(props){var _useState=useState([{countryInfo:{}}]),_useState2=_slicedToArray(_useState,2),worldData=_useState2[0],setWorldData=_useState2[1];function fetchCoVidWorldData(){return _fetchCoVidWorldData.apply(this,arguments);}function _fetchCoVidWorldData(){_fetchCoVidWorldData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://corona.lmao.ninja/countries?fbclid=IwAR3AEMVx3jWFDfm-mXxEWtvHZhd_4enAWLc5ynMB5fBFKvFYFWjcgODVVPY\");case 2:response=_context.sent;_context.next=5;return response.data;case 5:data=_context.sent;setWorldData(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchCoVidWorldData.apply(this,arguments);}useEffect(function(){fetchCoVidWorldData();},[]);var coVidFilterData=worldData.filter(function(resData){return resData.country!==\"World\";});var data=coVidFilterData.map(function(res){return{countryFlag:res.countryInfo.flag,countryName:res.country,totalCases:res.cases,activeCases:res.active,totalDeaths:res.deaths,recovered:res.recovered,criticalCases:res.critical};});return/*#__PURE__*/React.createElement(CoVidWorldDataContext.Provider,{value:{columns:columns,data:data}},props.children);};export default CoVidWorldDataContextProvider;","map":{"version":3,"sources":["/Users/ameetshrestha/Documents/WorkSpace/Exercises/globalCoVid19/src/ContextAPI/CoVidWorldDataContext.js"],"names":["React","createContext","useState","useEffect","axios","CoVidWorldDataContext","columns","title","dataIndex","render","countryFlag","height","width","CoVidWorldDataContextProvider","props","countryInfo","worldData","setWorldData","fetchCoVidWorldData","get","response","data","coVidFilterData","filter","resData","country","map","res","flag","countryName","totalCases","cases","activeCases","active","totalDeaths","deaths","recovered","criticalCases","critical","children"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAeC,aAAf,CAA8BC,QAA9B,CAAwCC,SAAxC,KAAwD,OAAxD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,qBAAqB,CAAGJ,aAAa,EAA3C,CAEP,GAAMK,CAAAA,OAAO,CAAG,CACf,CACCC,KAAK,CAAE,EADR,CAECC,SAAS,CAAE,aAFZ,CAGC;AACAC,MAAM,CAAE,gBAACC,WAAD,qBAAiB,2BAAK,KAAK,CAAE,CAACC,MAAM,CAAE,EAAT,CAAaC,KAAK,CAAE,EAApB,CAAZ,CAAqC,GAAG,CAAEF,WAA1C,CAAuD,GAAG,CAAEA,WAA5D,EAAjB,EAJT,CADe,CAOf,CACCH,KAAK,CAAE,cADR,CAECC,SAAS,CAAE,aACX;AAHD,CAPe,CAYf,CACCD,KAAK,CAAE,aADR,CAECC,SAAS,CAAE,YACX;AAHD,CAZe,CAiBf,CACCD,KAAK,CAAE,cADR,CAECC,SAAS,CAAE,aAFZ,CAjBe,CAqBf,CACCD,KAAK,CAAE,cADR,CAECC,SAAS,CAAE,aAFZ,CArBe,CAyBf,CACCD,KAAK,CAAE,WADR,CAECC,SAAS,CAAE,WAFZ,CAzBe,CA6Bf,CACCD,KAAK,CAAE,gBADR,CAECC,SAAS,CAAE,eAFZ,CA7Be,CAAhB,CAmCA,GAAMK,CAAAA,6BAA6B,CAAG,QAAhCA,CAAAA,6BAAgC,CAACC,KAAD,CAAW,eACdZ,QAAQ,CAAC,CAAC,CAACa,WAAW,CAAE,EAAd,CAAD,CAAD,CADM,wCACzCC,SADyC,eAC9BC,YAD8B,uBAGjCC,CAAAA,mBAHiC,mKAGhD,2KACwBd,CAAAA,KAAK,CAACe,GAAN,CAAU,0GAAV,CADxB,QACOC,QADP,qCAEoBA,CAAAA,QAAQ,CAACC,IAF7B,QAEOA,IAFP,eAGCJ,YAAY,CAACI,IAAD,CAAZ,CAHD,sDAHgD,sDAShDlB,SAAS,CAAC,UAAM,CACfe,mBAAmB,GACnB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMI,CAAAA,eAAe,CAAGN,SAAS,CAACO,MAAV,CAAiB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,OAAR,GAAoB,OAAxB,EAAxB,CAAxB,CAEA,GAAMJ,CAAAA,IAAI,CAAGC,eAAe,CAACI,GAAhB,CAAoB,SAAAC,GAAG,CAAI,CACvC,MACC,CACCjB,WAAW,CAAEiB,GAAG,CAACZ,WAAJ,CAAgBa,IAD9B,CAECC,WAAW,CAAEF,GAAG,CAACF,OAFlB,CAGCK,UAAU,CAAEH,GAAG,CAACI,KAHjB,CAICC,WAAW,CAAEL,GAAG,CAACM,MAJlB,CAKCC,WAAW,CAAEP,GAAG,CAACQ,MALlB,CAMCC,SAAS,CAAET,GAAG,CAACS,SANhB,CAOCC,aAAa,CAAEV,GAAG,CAACW,QAPpB,CADD,CAWA,CAZY,CAAb,CAeA,mBACC,oBAAC,qBAAD,CAAuB,QAAvB,EAAgC,KAAK,CAAE,CAAChC,OAAO,CAAPA,OAAD,CAAUe,IAAI,CAAJA,IAAV,CAAvC,EACEP,KAAK,CAACyB,QADR,CADD,CAKA,CAnCD,CAqCA,cAAe1B,CAAAA,6BAAf","sourcesContent":["import React, {createContext, useState, useEffect} from \"react\";\nimport axios from \"axios\";\n\nexport const CoVidWorldDataContext = createContext();\n\nconst columns = [\n\t{\n\t\ttitle: \"\",\n\t\tdataIndex: \"countryFlag\",\n\t\t// width: 80,\n\t\trender: (countryFlag) => <img style={{height: 20, width: 40}} src={countryFlag} alt={countryFlag}/>\n\t},\n\t{\n\t\ttitle: \"Country Name\",\n\t\tdataIndex: \"countryName\",\n\t\t// width: 150,\n\t},\n\t{\n\t\ttitle: \"Total Cases\",\n\t\tdataIndex: \"totalCases\",\n\t\t// width: 150,\n\t},\n\t{\n\t\ttitle: \"Active Cases\",\n\t\tdataIndex: \"activeCases\",\n\t},\n\t{\n\t\ttitle: \"Total Deaths\",\n\t\tdataIndex: \"totalDeaths\",\n\t},\n\t{\n\t\ttitle: \"Recovered\",\n\t\tdataIndex: \"recovered\",\n\t},\n\t{\n\t\ttitle: \"Critical Cases\",\n\t\tdataIndex: \"criticalCases\",\n\t},\n];\n\nconst CoVidWorldDataContextProvider = (props) => {\n\tconst [worldData, setWorldData] = useState([{countryInfo: {}}]);\n\n\tasync function fetchCoVidWorldData() {\n\t\tconst response = await axios.get(\"https://corona.lmao.ninja/countries?fbclid=IwAR3AEMVx3jWFDfm-mXxEWtvHZhd_4enAWLc5ynMB5fBFKvFYFWjcgODVVPY\");\n\t\tconst data = await response.data;\n\t\tsetWorldData(data);\n\t}\n\n\tuseEffect(() => {\n\t\tfetchCoVidWorldData();\n\t}, []);\n\n\tconst coVidFilterData = worldData.filter(resData => resData.country !== \"World\");\n\n\tconst data = coVidFilterData.map(res => {\n\t\treturn (\n\t\t\t{\n\t\t\t\tcountryFlag: res.countryInfo.flag,\n\t\t\t\tcountryName: res.country,\n\t\t\t\ttotalCases: res.cases,\n\t\t\t\tactiveCases: res.active,\n\t\t\t\ttotalDeaths: res.deaths,\n\t\t\t\trecovered: res.recovered,\n\t\t\t\tcriticalCases: res.critical\n\t\t\t}\n\t\t);\n\t});\n\n\n\treturn (\n\t\t<CoVidWorldDataContext.Provider value={{columns, data}}>\n\t\t\t{props.children}\n\t\t</CoVidWorldDataContext.Provider>\n\t);\n};\n\nexport default CoVidWorldDataContextProvider;\n"]},"metadata":{},"sourceType":"module"}